"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4655,2711],{22711:function(e,l,i){i.r(l);var t=i(85893),o=i(87789),n=i(39396),a=i(70024),r=i(5152),s=i.n(r),u=i(67294),d=i(25043),c=i(44950),v=i(47624),h=i(39131);let m=s()(()=>Promise.resolve().then(i.bind(i,22004)),{loadableGenerated:{webpack:()=>[22004]},ssr:!1}),p=e=>{var l,i;let{bannerMedia:r,fallbackMedia:s,borderRadii:p,played:g,width:b,height:x,mobWidth:f,mobHeight:w,url:y,borderTopLeftRadius:j=0,borderBottomLeftRadius:k=0,fallbackImageurl:Z,gumletUrl:I}=e,[M,L]=(0,u.useState)(!1),[R,C]=(0,u.useState)(!1),P=(0,u.useRef)(null),N=(0,a.Dv)(c.bW),T=(0,u.useMemo)(()=>I,[I]),z=(0,o.zo)(n.xu,{position:"relative",borderRadius:"".concat(p&&p),width:"".concat(null!=f?f:"200px"),height:"".concat(null!=w?w:"180px"),overflow:"hidden",borderTopLeftRadius:j||0,borderBottomLeftRadius:k||0,"@lg":{width:"".concat(null!=b?b:"254px"),height:"".concat(null!=x?x:"196px")},".video-player":{display:M?"block":"none",width:"100%",height:"100%",position:"absolute"},".fallback-image":{display:M?"none":"block",width:"100%",height:"100%",position:"absolute",opacity:R?0:1},".video-player-gumlet video":{zIndex:2,opacity:1,transition:"opacity .25s cubic-bezier(.05,0,0,1)",objectFit:"cover",position:"absolute"}}),F=(0,u.useCallback)(()=>window.innerWidth,[]),[E,U]=(0,u.useState)(F());return(0,u.useEffect)(()=>{let e=()=>{U(F())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,t.jsx)(z,{className:"active-vedio-box-wrapper",children:I?(0,t.jsxs)(n.xu,{className:"gumlet-box",css:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[(0,t.jsx)(d.Z,{height:(null==N?void 0:N.isMobile)?w:x,width:(null==N?void 0:N.isMobile)?"".concat(E):b,children:(0,t.jsx)(m,{url:"".concat(T),playing:!0,loop:!0,width:"100%",height:"100%",className:"video-player-gumlet",muted:!0,playsinline:!0,fallback:(0,t.jsx)(h.Z,{src:"".concat(I,"?time=1"),alt:"pyt-thumburl"+(null==I?void 0:I.slice(20)),priority:!0,fill:!0,style:{objectFit:"cover"}})},T)}),(0,t.jsx)(h.Z,{src:"".concat(I,"?time=1"),alt:"pyt-thumburl-"+(null==I?void 0:I.slice(20)),priority:!0,fill:!0,style:{objectFit:"cover"}})]}):(0,t.jsxs)(t.Fragment,{children:[Z?(0,t.jsx)(n.xu,{className:"fallback-image",css:{width:"100%",height:"100%",position:"absolute"},children:(0,t.jsx)(h.Z,{src:Z,alt:"pyt-image-video-fallback",priority:!0,fill:!0,style:{objectFit:"cover"}})}):null,s&&s.url?(0,t.jsx)(n.xu,{css:{width:"100%",height:"100%",position:"absolute",opacity:M?0:1},children:(0,t.jsx)(h.Z,{src:s.url,alt:s.alt,priority:!0,fill:!0,style:{objectFit:"cover"}})}):null,(0,t.jsx)(m,{ref:P,onReady:()=>{L(!0)},onPlay:()=>{C(!0)},url:y?(0,v.Z)(y,"https://images.pickyourtrail.com"):(0,v.Z)(null==r?void 0:null===(l=r.data)||void 0===l?void 0:null===(i=l.attributes)||void 0===i?void 0:i.url,"https://images.pickyourtrail.com"),playing:g,loop:!0,width:"100%",height:"100%",className:"video-player",muted:!0,playsinline:!0})]})})};l.default=u.memo(p)},44655:function(e,l,i){i.r(l),i.d(l,{default:function(){return C}});var t=i(85893),o=i(87789),n=i(39396),a=i(70024),r=i(11163),s=i(67294),u=i(44950),d=i(50389),c=i(78449),v=i(39986),h=i(76801),m=i(22711),p=i(5152),g=i.n(p),b=i(25043),x=i(70466),f=i(39131);let w=g()(()=>Promise.resolve().then(i.bind(i,22004)),{loadableGenerated:{webpack:()=>[22004]},ssr:!1}),y=e=>{let{borderRadii:l,width:i,height:a,mobWidth:r,mobHeight:u,borderTopLeftRadius:d=0,borderBottomLeftRadius:c=0,gumletUrl:v}=e,h=(0,s.useMemo)(()=>v,[v]),m=(0,o.zo)(n.xu,{position:"relative",borderRadius:"".concat(l&&l),width:"".concat(null!=r?r:"200px"),height:"".concat(null!=u?u:"180px"),overflow:"hidden",borderTopLeftRadius:d||0,borderBottomLeftRadius:c||0,"@lg":{width:"".concat(null!=i?i:"254px"),height:"".concat(null!=a?a:"196px")},".video-player-gumlet video":{zIndex:2,opacity:1,transition:"opacity .25s cubic-bezier(.05,0,0,1)",objectFit:"cover",position:"absolute"}}),p=(0,s.useCallback)(()=>window.innerWidth,[]),[g,y]=(0,s.useState)(p());(0,s.useEffect)(()=>{let e=()=>{y(p())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let j=(0,s.useRef)(null);return(0,t.jsx)(m,{className:"active-vedio-box-wrapper",ref:j,children:v?(0,t.jsxs)(n.xu,{className:"gumlet-box",css:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[(0,t.jsx)(b.Z,{height:(0,x.Z)()?u:a,width:(0,x.Z)()?"".concat(g):i,children:(0,t.jsx)(w,{url:"".concat(h),playing:!0,loop:!0,width:"100%",height:"100%",className:"video-player-gumlet",muted:!0,playsinline:!0,fallback:(0,t.jsx)(f.Z,{src:"".concat(v,"?time=1"),alt:"pyt-thumburl-"+(null==v?void 0:v.slice(20)),priority:!0,fill:!0,style:{objectFit:"cover"},wrapperRef:j})},h)}),(0,t.jsx)(f.Z,{src:"".concat(v,"?time=1"),alt:"pyt-thumburl-"+(null==v?void 0:v.slice(20)),priority:!0,fill:!0,style:{objectFit:"cover"},wrapperRef:j})]}):null})},j=e=>{var l,i;let{video:o,image:a,height:r,width:u,fallbackMedia:d,gumletUrl:c}=e,v=(0,s.useRef)(null);return(0,t.jsx)(s.Fragment,{children:(null==o?void 0:null===(l=o.data)||void 0===l?void 0:null===(i=l.attributes)||void 0===i?void 0:i.ext)===".mp4"||c?(0,t.jsx)(n.xu,{css:{borderRadius:"12px",overflow:"hidden",position:"relative",width:"100%",height:"".concat(null!=r?r:"400px"),"@lg":{width:"".concat(null!=u?u:"321px")}},children:c?(0,t.jsx)(y,{borderRadii:"12px",width:u,height:r,mobHeight:r,gumletUrl:c,mobWidth:"100%"}):(0,t.jsx)(m.default,{bannerMedia:o,fallbackMedia:d,borderRadii:"12px",played:!0,width:u,height:r,mobHeight:r,mobWidth:"100%",gumletUrl:c})}):(0,t.jsx)(n.xu,{ref:v,css:{borderRadius:"12px",overflow:"hidden",position:"relative",width:"100%",height:"".concat(null!=r?r:"400px"),"@lg":{width:"".concat(null!=u?u:"320px")}},children:(0,t.jsx)(f.Z,{src:"".concat(a),alt:"alt",fill:!0,style:{objectFit:"cover",borderRadius:"inherit"},wrapperRef:v})})})};var k=s.memo(j);let Z=e=>{var l,i,o,r,d,c,v,m,p,g,b,x,f,w,y,j,Z,I,M,L;let{cardData:R,layoutCount:C,clickable:P}=e,N=(0,s.useMemo)(()=>{var e;return(0,h.Z)(null==R?void 0:null===(e=R.desktopImage)||void 0===e?void 0:e.bannerImage)},[null==R?void 0:null===(l=R.desktopImage)||void 0===l?void 0:l.bannerImage]),T=(0,s.useMemo)(()=>{var e;return(0,h.Z)(null==R?void 0:null===(e=R.desktopImage)||void 0===e?void 0:e.fallbackPoster)},[null==R?void 0:null===(i=R.desktopImage)||void 0===i?void 0:i.fallbackPoster]),z=(0,s.useMemo)(()=>{var e;return(0,h.Z)(null==R?void 0:null===(e=R.mobileImage)||void 0===e?void 0:e.bannerImage)},[null==R?void 0:null===(o=R.mobileImage)||void 0===o?void 0:o.bannerImage]),F=(0,s.useMemo)(()=>{var e;return(0,h.Z)(null==R?void 0:null===(e=R.mobileImage)||void 0===e?void 0:e.fallbackPoster)},[null==R?void 0:null===(r=R.mobileImage)||void 0===r?void 0:r.fallbackPoster]),E=(0,a.Dv)(u.bW);return(0,t.jsx)(n.xu,{css:{cursor:P?"pointer":"default",width:"100%","@smMax":{width:"100%"}},children:(null==E?void 0:E.isMobile)?(0,t.jsx)(n.xu,{children:(null==z?void 0:z.url)||(null==R?void 0:null===(x=R.mobileImage)||void 0===x?void 0:x.gumletUrl)?(0,t.jsx)(k,{image:null==z?void 0:z.url,height:(null==R?void 0:null===(f=R.mobileImage)||void 0===f?void 0:null===(w=f.imageHeight)||void 0===w?void 0:w.includes("px"))?null==R?void 0:null===(y=R.mobileImage)||void 0===y?void 0:y.imageHeight:"".concat(null!==(L=null==R?void 0:null===(j=R.mobileImage)||void 0===j?void 0:j.imageHeight)&&void 0!==L?L:"400","px"),width:3===C?"368px":2===C?"320px":"100%",video:null==R?void 0:null===(Z=R.mobileImage)||void 0===Z?void 0:Z.bannerImage,fallbackMedia:F,gumletUrl:null==R?void 0:null===(I=R.mobileImage)||void 0===I?void 0:I.gumletUrl}):null}):(0,t.jsx)(n.xu,{children:(null==N?void 0:N.url)||(null==R?void 0:null===(d=R.desktopImage)||void 0===d?void 0:d.gumletUrl)?(0,t.jsx)(k,{image:null==N?void 0:N.url,height:(null==R?void 0:null===(c=R.desktopImage)||void 0===c?void 0:null===(v=c.imageHeight)||void 0===v?void 0:v.includes("px"))?null==R?void 0:null===(m=R.desktopImage)||void 0===m?void 0:m.imageHeight:"".concat(null!==(M=null==R?void 0:null===(p=R.desktopImage)||void 0===p?void 0:p.imageHeight)&&void 0!==M?M:"400","px"),width:3===C?"368px":2===C?"564px":"100%",video:null==R?void 0:null===(g=R.desktopImage)||void 0===g?void 0:g.bannerImage,fallbackMedia:T,gumletUrl:null==R?void 0:null===(b=R.desktopImage)||void 0===b?void 0:b.gumletUrl}):null})})};var I=s.memo(Z),M=i(82871);let L=(0,o.zo)("a",{width:"100%","@lg":{width:"inherit"}}),R=e=>{let{cardData:l,layoutCount:i,sectionTitle:o}=e,[h,m]=(0,s.useState)(!1),p=(0,a.Dv)(u.s1),g=(0,a.b9)(u.T2),b=(0,r.useRouter)(),x=(0,s.useCallback)(()=>{let e={sectionTitle:(0,v.Z)((null!=o?o:2==i)?"two columnMedia":"three columnMedia"," ","-").toLowerCase(),slug:l.slug,title:l.anchorTitle,elementType:"card",pathname:b.asPath,campaignWithoutLandingPage:(null==l?void 0:l.slug)==="",...l.eventProps?l.eventProps:{}};if((0,d.L9W)(d.BUe,e,p||void 0),(null==l?void 0:l.slug)===null){var t;b.replace({pathname:null===(t=b.asPath)||void 0===t?void 0:t.split("/")[0],query:{...null==b?void 0:b.query,campaignWithoutLandingPage:"true",...l.eventProps?l.eventProps:{}}},void 0,{shallow:!0}),g(!0)}},[l.anchorTitle,l.eventProps,l.slug,i,b,o,g,p]),f=(0,s.useCallback)(()=>{let e={sectionTitle:(0,v.Z)(o," ","-").toLowerCase(),slug:l.slug,title:l.anchorTitle,elementType:"vedio",pathname:b.asPath};(0,d.L9W)(d.pTX,e,p||void 0)},[l.anchorTitle,l.slug,b.asPath,o,p]);return(0,t.jsxs)(s.Fragment,{children:[(null==l?void 0:l.action)==="video"&&(0,t.jsxs)(s.Fragment,{children:[(0,t.jsx)(n.xu,{css:{cursor:"pointer","@smMax":{width:"100%"}},onClick:()=>{m(!0),f()},children:(0,t.jsx)(I,{cardData:l,layoutCount:i,clickable:!0})}),(0,t.jsx)(M.Z,{show:h,closeModal:m,videoId:"".concat(l.videoId)})]}),(null==l?void 0:l.action)==="slug"&&(0,t.jsx)(L,{href:(null==l?void 0:l.slug)?"".concat(null==l?void 0:l.slug):void 0,target:(null==l?void 0:l.openInNewTab)?"_blank":"_self",title:(0,c.Z)((null==l?void 0:l.anchorTitle)||"")||"",onClick:x,children:(0,t.jsx)(I,{cardData:l,layoutCount:i,clickable:!0})}),(null==l?void 0:l.action)==null&&(0,t.jsx)(I,{cardData:l,layoutCount:i})]})};var C=s.memo(R)},39131:function(e,l,i){var t=i(85893),o=i(87789),n=i(39396),a=i(25675),r=i.n(a),s=i(67294),u=i(68991);let d=e=>{let{src:l,fallback:i="https://images.pickyourtrail.com/image_placeholder_2eca9cbf61.png",alt:a="",width:d,height:c,children:v,isBg:h=!1,wrapperRef:m,fill:p=!1,...g}=e,[b,x]=(0,s.useState)(0),[f,w]=(0,s.useState)(0);(0,s.useEffect)(()=>{if(null==m?void 0:m.current){var e,l;x(null==m?void 0:null===(e=m.current)||void 0===e?void 0:e.offsetWidth),w(null==m?void 0:null===(l=m.current)||void 0===l?void 0:l.offsetHeight)}},[m]);let y=(0,s.useMemo)(()=>d?Math.ceil(Number(d)/3):Math.ceil(Number(b)/3),[d,b]),j=(0,s.useMemo)(()=>c?Math.ceil(Number(c)/3):Math.ceil(Number(f)/3),[c,f]),k=(0,s.useMemo)(()=>"w=".concat(y,"&h=").concat(j),[j,y]),Z=(0,s.useMemo)(()=>{let e=l.includes("?")?"&":"?";return"".concat(l).concat(e).concat(k,"&blur=2")},[k,l]),[I,M]=(0,s.useState)(!1),[L,R]=(0,s.useState)(!1),C=(0,s.useMemo)(()=>{let e={};return d&&(e={...e,width:d}),c&&(e={...e,height:c}),p&&(e={...e,fill:!0}),e},[p,c,d]),P=(0,s.useMemo)(()=>null==l?void 0:l.includes("time=1"),[l]),N=(0,o.zo)(r(),{filter:P?"blur(10px)":"unset"});return(null==l?void 0:l.length)&&!I?d||c||p||b>0&&f>0?L?h?(0,t.jsxs)(n.xu,{style:{position:"relative",width:null!=d?d:b,height:null!=c?c:f},children:[(0,t.jsx)(N,{alt:a,src:(0,u.Z)("".concat(l,"?w=").concat(null!=d?d:b,"&h=").concat(null!=c?c:f,"&format=auto"),""),onError:()=>M(!0),style:{opacity:L?1:0,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out",position:"relative"},...g,placeholder:"blur",blurDataURL:(0,u.Z)(Z,"",10,"1"),...C,onLoadingComplete:()=>{R(!0)}}),(0,t.jsx)(n.xu,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:v})]}):(0,t.jsx)(r(),{alt:a,src:(0,u.Z)("".concat(l,"?w=").concat(null!=d?d:b,"&h=").concat(null!=c?c:f,"&format=auto"),""),onError:()=>M(!0),style:{opacity:L?1:0,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},placeholder:"blur",blurDataURL:(0,u.Z)(Z,"",10,"1"),...C,onLoadingComplete:()=>{R(!0)},...g}):h?(0,t.jsxs)(n.xu,{style:{position:"relative",width:null!=d?d:b,height:null!=c?c:f},children:[(0,t.jsx)(N,{alt:a,src:(0,u.Z)(Z,"",10,"1"),onError:()=>M(!0),style:{opacity:L?1:0,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out",position:"relative"},...g,placeholder:"blur",blurDataURL:(0,u.Z)(Z,"",10,"1"),...C,onLoadingComplete:()=>{R(!0)}}),(0,t.jsx)(n.xu,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:v})]}):(0,t.jsx)(r(),{alt:a,src:(0,u.Z)(Z,"",10,"1"),onError:()=>M(!0),style:{opacity:L?0:1,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},placeholder:"blur",blurDataURL:(0,u.Z)(Z,"",10,"1"),...C,onLoadingComplete:()=>{R(!0)},...g}):null:h?(0,t.jsx)(r(),{alt:"",src:(0,u.Z)(i,"",10,"1"),...C,...g,children:v}):(0,t.jsx)(r(),{alt:"",src:(0,u.Z)(i,"",10,"1"),...C,...g})};l.Z=s.memo(d)},82871:function(e,l,i){var t=i(85893),o=i(86703),n=i(5152),a=i.n(n);let r=a()(()=>i.e(4111).then(i.bind(i,94111)),{loadableGenerated:{webpack:()=>[94111]},ssr:!1}),s=e=>{let{show:l,closeModal:i,videoId:n}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o.Vq.fC,{open:l,onOpenChange:i,children:(0,t.jsx)(o.Vq.VY,{css:{width:"60em",height:"36em",display:"flex",alignItems:"center",justifyContent:"center",maxHeight:"auto",margin:0,padding:"$16i","@smMax":{width:"100%",height:"auto"}},children:n?(0,t.jsx)(r,{video:"https://vimeo.com/".concat(n),autoplay:!0,volume:l?1:0,loop:!0,responsive:!0,controls:!0,showTitle:!1,className:"how-it-works-video",width:"70%"}):null})})})};l.Z=s},39986:function(e,l,i){i.d(l,{Z:function(){return o}});var t=i(78449);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return(0,t.Z)((e||"").toLowerCase().split(l).join(i))}}}]);